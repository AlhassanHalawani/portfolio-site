/* Pixel-Tech theme — inspired by NetworkChuck: boxy, techy, pixel vibes */
:root{
  --bg: #0a0c10;
  --bg2:#0f1217;
  --text:#e7edf3;
  --muted:#9aa5b1;
  --brand:#00e5ff;
  --accent:#ff47c0;
  --card:#11161c;
  --border:#1f2733;
  --ok:#22c55e;
  --warn:#f59e0b;
  --err:#ef4444;
  --radius: 8px;
  --pixel: 0;
  --shadow-step: 4px;
  --font-ui: 'Pixelify Sans', 'Press Start 2P', 'VT323', ui-monospace, SFMono-Regular, Menlo, Consolas, 'Liberation Mono', monospace;
}

/* Global reset-ish */
*, *::before, *::after { box-sizing: border-box; }
html, body { height: 100%; scroll-behavior: smooth; }
body {
  margin: 0;
  color: var(--text);
  background: radial-gradient(1200px 800px at 20% -10%, rgba(0,229,255,.06), transparent 60%),
              radial-gradient(1000px 700px at 110% 10%, rgba(255, 71, 192, .06), transparent 60%),
              linear-gradient(180deg, var(--bg), var(--bg2));
  font-family: var(--font-ui);
  font-size: 16px;
  line-height: 1.6;
  image-rendering: pixelated;
  text-rendering: optimizeLegibility;
}

/* Layout containers */
.container {
  width: min(1100px, 92%);
  margin: 0 auto;
}

.section {
  padding: 3rem 0;
}

/* Pixel headings */
h1, h2, h3, .site-title, .nav a, .btn, .chip {
  letter-spacing: 0.5px;
  text-transform: uppercase;
}

h1, .section-title {
  font-family: 'Press Start 2P', var(--font-ui);
  font-size: clamp(20px, 2.2vw, 28px);
  line-height: 1.3;
  text-shadow: 0 0 0 var(--brand), 0 0 12px rgba(0,229,255,.18);
}

h2, h3 {
  font-family: 'Pixelify Sans', var(--font-ui);
}

/* Card */
.card {
  background: var(--card);
  border: 2px solid var(--border);
  border-radius: 0;
  position: relative;
  overflow: hidden;
  box-shadow:
    0 0 0 1px var(--border) inset,
    0 8px 0 0 rgba(0,0,0,.2);
  transition: transform .2s ease, box-shadow .2s ease, border-color .2s ease;
}
.card:hover {
  transform: translateY(-2px);
  border-color: var(--brand);
  box-shadow:
    0 0 0 1px var(--brand) inset,
    0 10px 0 0 rgba(0,0,0,.28),
    0 0 0 4px rgba(0,229,255,.08);
}
.card .card-media img{ border: 1px solid var(--border); }

/* Pixel border utility */
.pixel-border {
  position: relative;
  border: 2px solid var(--border);
}
.pixel-border::before {
  content: "";
  position: absolute; inset: -2px;
  background:
    linear-gradient(90deg, var(--brand), transparent 25%, transparent 75%, var(--accent)),
    linear-gradient(0deg, var(--brand), transparent 25%, transparent 75%, var(--accent));
  background-size: 6px 2px, 2px 6px;
  mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite: xor;
          mask-composite: exclude;
  padding: 2px;
  pointer-events: none;
  opacity: .25;
}

/* Nav */
.site-nav {
  position: sticky; top: 0; z-index: 50;
  backdrop-filter: blur(6px);
  background: rgba(10,12,16,.7);
  border-bottom: 1px solid var(--border);
}
.site-nav .container { display: flex; align-items: center; gap: 1rem; padding: .75rem 0; }
.site-title { font-weight: 700; color: var(--brand); }
.nav { margin-left: auto; display: flex; gap: .75rem; }
.nav a {
  color: var(--text); text-decoration: none; padding: .35rem .6rem; border: 1px solid transparent;
}
.nav a:hover, .nav a[aria-current="page"] { border-color: var(--brand); color: var(--brand); }

/* Buttons */
.btn {
  display: inline-flex; align-items: center; gap: .5rem;
  padding: .6rem .9rem;
  border: 2px solid var(--border);
  background: linear-gradient(180deg, #0d1117, #0b0e13);
  text-decoration: none; color: var(--text);
  box-shadow: 0 3px 0 0 rgba(0,0,0,.25);
}
.btn:hover { border-color: var(--brand); color: var(--brand); transform: translateY(-1px); }
.btn.brand { border-color: var(--brand); color: #001216; background: var(--brand); }
.btn.accent { border-color: var(--accent); color: #1e0414; background: var(--accent); }

/* Chips / tags */
.chip {
  display: inline-block; padding: .35rem .6rem; border: 1px dashed var(--border); color: var(--muted); text-decoration: none;
}
.chip:hover { border-color: var(--brand); color: var(--brand); }

/* Code blocks */
pre, code {
  font-family: 'VT323', ui-monospace, Menlo, monospace;
  font-size: 18px;
}
pre {
  background: #0a0f14; padding: 1rem; border: 1px solid var(--border); overflow-x: auto;
}

/* Forms */
input, textarea {
  background: #0b1016; color: var(--text);
  border: 2px solid var(--border); padding: .6rem .8rem; width: 100%;
}
input:focus, textarea:focus { outline: none; border-color: var(--brand); box-shadow: 0 0 0 3px rgba(0,229,255,.12); }

/* Footer */
.site-footer {
  padding: 2rem 0; border-top: 1px solid var(--border); background: #0a0e13; color: var(--muted);
}

/* Utilities */
.grid { display: grid; gap: 1rem; }
.grid.cards { grid-template-columns: repeat(auto-fill, minmax(260px, 1fr)); }
.muted { color: var(--muted); }
.center { text-align: center; }

/* Fun hover: glitch underline */
a:hover {
  text-decoration: none;
  background: linear-gradient(90deg, var(--brand), var(--accent));
  background-size: 200% 2px; background-repeat: no-repeat; background-position: 0 100%;
}

/* Light mode — softened (less bright) */
@media (prefers-color-scheme: light){
  body.theme-auto {
    --bg:#e9edf3;
    --bg2:#f4f7fb;
    --text:#0e1420;
    --muted:#4b5663;
    --card:#ffffff;
    --border:#cfd7e3;
  }
}
body.theme-light{
  --bg:#e9edf3;
  --bg2:#f4f7fb;
  --text:#0e1420;
  --muted:#4b5663;
  --card:#ffffff;
  --border:#cfd7e3;
}
/* Light-specific fixes */
body.theme-light .site-nav, body.theme-auto .site-nav{
  background: rgba(248, 250, 252, .7);
  border-bottom-color: var(--border);
}
body.theme-light .card, body.theme-auto .card{
  background: var(--card);
  box-shadow: 0 6px 0 0 rgba(0,0,0,.06);
}
body.theme-light .chip, body.theme-auto .chip{
  color: var(--muted);
  border-color: var(--border);
}
body.theme-light a, body.theme-auto a { color: #0a74a8; }
body.theme-light .btn.brand, body.theme-auto .btn.brand { color:#001216; background: var(--brand); border-color: var(--brand); }
body.theme-light pre, body.theme-auto pre { background:#f3f6fb; border-color: var(--border); color:#0e1420; }


/* Typewriter effect */
.typewriter {
  display:inline-block;
  border-right: 2px solid var(--brand);
  white-space: nowrap;
  overflow: hidden;
  will-change: contents;
  animation: caret 1s step-end infinite;
}
@keyframes caret { 50% { border-right-color: transparent; } }
@media (prefers-reduced-motion: reduce){
  .typewriter { animation: none; border-right: none; }
}

/* Screen-reader only */
.sr-only {
  position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden;
  clip: rect(0,0,0,0); white-space: nowrap; border: 0;
}



/* Footer light-mode fix */
body.theme-light .site-footer, body.theme-auto .site-footer{
  background: #f4f7fb;
  color: #4b5663;
  border-top-color: var(--border);
}
body.theme-light .site-footer a, body.theme-auto .site-footer a{
  color: #0a74a8;
  text-decoration: none;
}
body.theme-light .site-footer a:hover, body.theme-auto .site-footer a:hover{ color: var(--brand); }


/* Buttons — light mode */
body.theme-light .btn, body.theme-auto .btn{
  background: linear-gradient(180deg, #ffffff, #eef3f8);
  color: #0e1420;
  border-color: var(--border);
}
body.theme-light .btn:hover, body.theme-auto .btn:hover{
  border-color: var(--brand);
  color: #0e1420;
}
body.theme-light .btn-primary, body.theme-auto .btn-primary{
  background: var(--brand);
  color: #001216;
  border-color: var(--brand);
}
body.theme-light .btn-ghost, body.theme-auto .btn-ghost{
  background: transparent;
  color: #0e1420;
  border-color: var(--border);
}


/* Cards — light mode */
body.theme-light .card, body.theme-auto .card{
  background: #ffffff;
  border-color: var(--border);
  box-shadow: 0 6px 0 rgba(0,0,0,.06);
}
body.theme-light .card:hover, body.theme-auto .card:hover{
  border-color: var(--brand);
  box-shadow: 0 8px 0 rgba(0,0,0,.08), 0 0 0 4px rgba(0,229,255,.08);
}


/* Typewriter overflow fix */
.typewriter{
  display:block;
  max-width: 100%;
  white-space: normal;
  word-break: break-word;
  overflow: visible;
}
.hero .section-title.typewriter{ margin-bottom: .5rem; }


/* Nav — light mode readability */
body.theme-light .site-nav, body.theme-auto .site-nav{
  background: rgba(255,255,255,.75);
  -webkit-backdrop-filter: blur(6px);
  backdrop-filter: blur(6px);
  border-bottom-color: var(--border);
}
body.theme-light .nav a[aria-current="page"], body.theme-auto .nav a[aria-current="page"]{
  color: #0e1420;
  border-color: var(--brand);
}


/* Links — light mode contrast */
body.theme-light a, body.theme-auto a{ color: #0a74a8; }
body.theme-light a:hover, body.theme-auto a:hover{ color: var(--brand); }



/* Responsive tweaks for hero */
@media (max-width: 420px){
  h1, .section-title{ font-size: clamp(18px, 6vw, 24px); }
}




/* Layout: push footer to bottom */
html, body { height: 100%; }
body { display: flex; flex-direction: column; }
main { flex: 1 0 auto; }
.site-footer { margin-top: auto; width: 100%; }


/* Header/Nav styling (replaces .site-nav usage) */
.site-header { position: sticky; top: 0; z-index: 50; border-bottom: 1px solid var(--border); }
.site-header .nav { backdrop-filter: blur(6px); background: rgba(10,12,16,.7); }
body.theme-light .site-header .nav, body.theme-auto .site-header .nav { background: rgba(255, 255, 255, 0); }
.site-header .nav a { color: var(--text); text-decoration: none; padding: .35rem .6rem; border: 1px solid transparent; }
.site-header .nav a:hover, .site-header .nav a[aria-current="page"] { border-color: var(--brand); color: var(--brand); }



/* Ensure theme-auto defaults to dark when prefers-color-scheme is unsupported */
body.theme-auto { /* inherits dark tokens from :root by default */ }



/* --- Theme toggle switch --- */
.theme-toggle{
  position: relative; width: 60px; height: 31px;
  border: 2px solid var(--border); border-radius: 999px;
  background: color-mix(in srgb, var(--card) 85%, transparent);
  display: inline-flex; align-items: center; justify-content: center;
  cursor: pointer; padding: 0; margin: 0;
  transition: background .25s ease, border-color .25s ease, box-shadow .25s ease;
}
.theme-toggle .knob{
  position: absolute; top: 2px; left: 2px; width: 24px; height: 24px;
  border-radius: 50%; border: 2px solid var(--border);
  background: var(--bg2);
  transition: transform .25s cubic-bezier(.2,.8,.2,1), box-shadow .25s ease, background .25s ease;
  box-shadow: 0 2px 0 rgba(0,0,0,.25);
}
.theme-toggle .icon{
  position: absolute; top: 50%; transform: translateY(-50%);
  font-size: 12px; line-height: 1; opacity: .65; user-select: none; pointer-events: none;
  transition: opacity .25s ease;
}
.theme-toggle .icon.sun{ left: 7px; }
.theme-toggle .icon.moon{ right: 7px; }

/* Position + glow per theme */
body.theme-light .theme-toggle .knob{ transform: translateX(0); box-shadow: 0 0 10px rgba(255,200,0,.25); }
body.theme-dark  .theme-toggle .knob{ transform: translateX(28px); box-shadow: 0 0 14px rgba(0,229,255,.25); }
body.theme-light .theme-toggle .icon.sun{ opacity: 1; }
body.theme-light .theme-toggle .icon.moon{ opacity: .35; }
body.theme-dark  .theme-toggle .icon.sun{ opacity: .35; }
body.theme-dark  .theme-toggle .icon.moon{ opacity: 1; }

/* Global smoothen when theme flips */
:root, body, .card, .nav, .site-footer, .site-header, .chip, .btn, pre, code {
  transition: background-color .3s ease, color .3s ease, border-color .3s ease, box-shadow .3s ease;
}

/* Subtle click ripple */
body.theme-toggle-anim::after{
  content:""; position: fixed; inset: 0; pointer-events: none;
  background: radial-gradient(500px 500px at var(--x, 50%) var(--y, 0%), rgba(0,229,255,.08), transparent 60%);
  animation: themeRipple .45s ease-out forwards;
}
@keyframes themeRipple{ from{ opacity:.6 } to{ opacity:0 } }
